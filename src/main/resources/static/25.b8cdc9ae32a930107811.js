(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{DZfg:function(l,n,u){"use strict";u.r(n);var o=u("CcnG"),e=u("vZ6X"),t=u("ZZ/e"),b=u("ysQq"),i=function(){function l(l,n,u){this.modalCtrl=l,this.booksService=n,this.router=u,this._defaultCover="../../../assets/default_cover.png"}return Object.defineProperty(l.prototype,"defaultCover",{get:function(){return this._defaultCover},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){},l.prototype.selectBook=function(){this.booksService.setSelectedBook(this.book),this.modalCtrl.dismiss(),this.router.navigateByUrl("/library/new")},l.prototype.dismiss=function(){this.modalCtrl.dismiss()},l}(),r=function(){function l(l,n){this.booksService=l,this.modalCtrl=n,this.searchInput="",this._TITLE="intitle",this._AUTHOR="inauthor",this._ISBN="isbn",this._searchMode=this.TITLE,this._searchResult=[],this._submitted=!1}return Object.defineProperty(l.prototype,"searchMode",{get:function(){return this._searchMode},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"TITLE",{get:function(){return this._TITLE},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"AUTHOR",{get:function(){return this._AUTHOR},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ISBN",{get:function(){return this._ISBN},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"searchResult",{get:function(){return this._searchResult},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){},l.prototype.segmentChanged=function(l){this._searchMode=l.detail.value},l.prototype.search=function(){var l=this;this.booksService.searchBookViaGoogleApi(this.searchMode,this.searchInput).subscribe(function(n){l._submitted=!0,l._searchResult=0==n.totalItems?[]:n.items},function(n){l._searchResult=[],console.log(n)})},l.prototype.selectBook=function(l){var n=null;null!=l.volumeInfo.industryIdentifiers&&(n=l.volumeInfo.industryIdentifiers[0].identifier);var u=null;null!=l.volumeInfo.imageLinks&&(u=l.volumeInfo.imageLinks.thumbnail);var o=null;null!=l.volumeInfo.publishedDate&&(o=new Date(l.volumeInfo.publishedDate));var e=new b.a(null,l.volumeInfo.title,l.volumeInfo.authors,n,u,l.volumeInfo.language.toUpperCase(),l.volumeInfo.publisher,o,l.volumeInfo.pageCount,l.volumeInfo.description,null,null,null,null,null,null);this.modalCtrl.create({component:i,componentProps:{book:e}}).then(function(l){return l.present(),l.onDidDismiss()})},l}(),s=function(){return function(){}}(),c=u("pMnS"),a=u("oBZk"),p=u("Ip0R"),f=u("gIcY"),h=o.nb({encapsulation:0,styles:[["ion-searchbar[_ngcontent-%COMP%]{--background:white}.book-item[_ngcontent-%COMP%]:hover{cursor:pointer;--background:var(--ion-color-background-element-hover)}h1[_ngcontent-%COMP%]{font-family:RockSalt,Arial,sans-serif}ion-list-header[_ngcontent-%COMP%]{font-size:larger}"]],data:{}});function g(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,4,"ion-item",[["lines","none"]],null,null,null,a.ob,a.v)),o.ob(1,49152,null,0,t.H,[o.h,o.k],{lines:[0,"lines"]},null),(l()(),o.pb(2,0,null,0,2,"ion-label",[],null,null,null,a.pb,a.w)),o.ob(3,49152,null,0,t.N,[o.h,o.k],null,null),(l()(),o.Fb(-1,0,[" No books found "]))],function(l,n){l(n,1,0,"none")},null)}function k(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,9,"ion-item",[["class","book-item"]],null,null,null,a.ob,a.v)),o.ob(1,49152,null,0,t.H,[o.h,o.k],null,null),(l()(),o.pb(2,0,null,0,7,"ion-label",[],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.selectBook(l.context.$implicit)&&o),o},a.pb,a.w)),o.ob(3,49152,null,0,t.N,[o.h,o.k],null,null),(l()(),o.pb(4,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),o.Fb(5,null,["",""])),(l()(),o.pb(6,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),o.Fb(7,null,["",""])),(l()(),o.pb(8,0,null,0,1,"h4",[],null,null,null,null,null)),(l()(),o.Fb(9,null,["",""]))],null,function(l,n){l(n,5,0,n.context.$implicit.volumeInfo.title),l(n,7,0,n.context.$implicit.volumeInfo.authors),l(n,9,0,n.context.$implicit.volumeInfo.publisher)})}function m(l){return o.Hb(0,[(l()(),o.gb(16777216,null,null,1,null,k)),o.ob(1,278528,null,0,p.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(l()(),o.gb(0,null,null,0))],function(l,n){l(n,1,0,n.component.searchResult)},null)}function d(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,57,"ion-content",[],null,null,null,a.fb,a.m)),o.ob(1,49152,null,0,t.u,[o.h,o.k],null,null),(l()(),o.pb(2,0,null,0,55,"ion-grid",[],null,null,null,a.jb,a.q)),o.ob(3,49152,null,0,t.A,[o.h,o.k],null,null),(l()(),o.pb(4,0,null,0,5,"ion-row",[],null,null,null,a.xb,a.E)),o.ob(5,49152,null,0,t.ib,[o.h,o.k],null,null),(l()(),o.pb(6,0,null,0,3,"ion-col",[["offset-lg","2"],["offset-xl","3"],["size-lg","8"],["size-xl","6"],["text-center",""]],null,null,null,a.eb,a.l)),o.ob(7,49152,null,0,t.t,[o.h,o.k],null,null),(l()(),o.pb(8,0,null,0,1,"h1",[],null,null,null,null,null)),(l()(),o.Fb(-1,null,["Search a book via Google Books"])),(l()(),o.pb(10,0,null,0,22,"ion-row",[],null,null,null,a.xb,a.E)),o.ob(11,49152,null,0,t.ib,[o.h,o.k],null,null),(l()(),o.pb(12,0,null,0,20,"ion-col",[["offset-lg","2"],["offset-xl","3"],["size-lg","8"],["size-xl","6"]],null,null,null,a.eb,a.l)),o.ob(13,49152,null,0,t.t,[o.h,o.k],null,null),(l()(),o.pb(14,0,null,0,18,"ion-segment",[],null,[[null,"ionChange"],[null,"ionBlur"]],function(l,n,u){var e=!0,t=l.component;return"ionBlur"===n&&(e=!1!==o.yb(l,17)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==o.yb(l,17)._handleChangeEvent(u.target.value)&&e),"ionChange"===n&&(e=!1!==t.segmentChanged(u)&&e),e},a.Ab,a.G)),o.Cb(5120,null,f.g,function(l){return[l]},[t.Mb]),o.ob(16,49152,null,0,t.kb,[o.h,o.k],{value:[0,"value"]},null),o.ob(17,16384,null,0,t.Mb,[o.k],null,null),(l()(),o.pb(18,0,null,0,4,"ion-segment-button",[],null,null,null,a.zb,a.H)),o.ob(19,49152,null,0,t.lb,[o.h,o.k],{value:[0,"value"]},null),(l()(),o.pb(20,0,null,0,2,"ion-label",[],null,null,null,a.pb,a.w)),o.ob(21,49152,null,0,t.N,[o.h,o.k],null,null),(l()(),o.Fb(-1,0,["Author"])),(l()(),o.pb(23,0,null,0,4,"ion-segment-button",[],null,null,null,a.zb,a.H)),o.ob(24,49152,null,0,t.lb,[o.h,o.k],{value:[0,"value"]},null),(l()(),o.pb(25,0,null,0,2,"ion-label",[],null,null,null,a.pb,a.w)),o.ob(26,49152,null,0,t.N,[o.h,o.k],null,null),(l()(),o.Fb(-1,0,["Title"])),(l()(),o.pb(28,0,null,0,4,"ion-segment-button",[],null,null,null,a.zb,a.H)),o.ob(29,49152,null,0,t.lb,[o.h,o.k],{value:[0,"value"]},null),(l()(),o.pb(30,0,null,0,2,"ion-label",[],null,null,null,a.pb,a.w)),o.ob(31,49152,null,0,t.N,[o.h,o.k],null,null),(l()(),o.Fb(-1,0,["ISBN"])),(l()(),o.pb(33,0,null,0,10,"ion-row",[],null,null,null,a.xb,a.E)),o.ob(34,49152,null,0,t.ib,[o.h,o.k],null,null),(l()(),o.pb(35,0,null,0,8,"ion-col",[["offset-lg","2"],["offset-xl","3"],["size-lg","8"],["size-xl","6"]],null,null,null,a.eb,a.l)),o.ob(36,49152,null,0,t.t,[o.h,o.k],null,null),(l()(),o.pb(37,0,null,0,6,"ion-searchbar",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0,t=l.component;return"ionBlur"===n&&(e=!1!==o.yb(l,38)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==o.yb(l,38)._handleInputEvent(u.target.value)&&e),"keyup.enter"===n&&(e=!1!==t.search()&&e),"ngModelChange"===n&&(e=!1!==(t.searchInput=u)&&e),e},a.yb,a.F)),o.ob(38,16384,null,0,t.Nb,[o.k],null,null),o.Cb(1024,null,f.g,function(l){return[l]},[t.Nb]),o.ob(40,671744,null,0,f.k,[[8,null],[8,null],[8,null],[6,f.g]],{model:[0,"model"]},{update:"ngModelChange"}),o.Cb(2048,null,f.h,null,[f.k]),o.ob(42,16384,null,0,f.i,[[4,f.h]],null,null),o.ob(43,49152,null,0,t.jb,[o.h,o.k],null,null),(l()(),o.pb(44,0,null,0,13,"ion-row",[],null,null,null,a.xb,a.E)),o.ob(45,49152,null,0,t.ib,[o.h,o.k],null,null),(l()(),o.pb(46,0,null,0,11,"ion-col",[["offset-lg","2"],["offset-xl","3"],["size-lg","8"],["size-xl","6"]],null,null,null,a.eb,a.l)),o.ob(47,49152,null,0,t.t,[o.h,o.k],null,null),(l()(),o.pb(48,0,null,0,9,"ion-list",[],null,null,null,a.rb,a.x)),o.ob(49,49152,null,0,t.O,[o.h,o.k],null,null),(l()(),o.pb(50,0,null,0,4,"ion-list-header",[],null,null,null,a.qb,a.y)),o.ob(51,49152,null,0,t.P,[o.h,o.k],null,null),(l()(),o.pb(52,0,null,0,2,"ion-label",[],null,null,null,a.pb,a.w)),o.ob(53,49152,null,0,t.N,[o.h,o.k],null,null),(l()(),o.Fb(-1,0,["SEARCH RESULTS"])),(l()(),o.gb(16777216,null,0,1,null,g)),o.ob(56,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),o.gb(0,[["result",2]],0,0,null,m))],function(l,n){var u=n.component;l(n,16,0,u.TITLE),l(n,19,0,u.AUTHOR),l(n,24,0,u.TITLE),l(n,29,0,u.ISBN),l(n,40,0,u.searchInput),l(n,56,0,u.searchResult.length<1&&!0===u.submitted,o.yb(n,57))},function(l,n){l(n,37,0,o.yb(n,42).ngClassUntouched,o.yb(n,42).ngClassTouched,o.yb(n,42).ngClassPristine,o.yb(n,42).ngClassDirty,o.yb(n,42).ngClassValid,o.yb(n,42).ngClassInvalid,o.yb(n,42).ngClassPending)})}function v(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,"app-search-via-api",[],null,null,null,d,h)),o.ob(1,114688,null,0,r,[e.a,t.Fb],null,null)],function(l,n){l(n,1,0)},null)}var I=o.lb("app-search-via-api",r,v,{},{},[]),y=u("ZYCi"),C=o.nb({encapsulation:0,styles:[[".bottom-buttons[_ngcontent-%COMP%]{position:fixed;bottom:1em}.image-align[_ngcontent-%COMP%]{margin-top:5em}"]],data:{}});function w(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,0,"img",[["alt","cover"]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.book.image)})}function O(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,0,"img",[["alt","cover"]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.defaultCover)})}function _(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,2,"ion-text",[],null,null,null,a.Gb,a.N)),o.ob(1,49152,null,0,t.wb,[o.h,o.k],null,null),(l()(),o.Fb(2,0,["",""]))],null,function(l,n){l(n,2,0,n.component.book.publisher)})}function x(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,3,"ion-text",[],null,null,null,a.Gb,a.N)),o.ob(1,49152,null,0,t.wb,[o.h,o.k],null,null),(l()(),o.Fb(2,0,["",""])),o.Bb(3,1)],null,function(l,n){var u=n.component,e=o.Gb(n,2,0,l(n,3,0,o.yb(n.parent,0),u.book.datePublished));l(n,2,0,e)})}function F(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,2,"ion-text",[],null,null,null,a.Gb,a.N)),o.ob(1,49152,null,0,t.wb,[o.h,o.k],null,null),(l()(),o.Fb(2,0,[""," pages"]))],null,function(l,n){l(n,2,0,n.component.book.pages)})}function H(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),o.Fb(-1,null,["..."]))],null,null)}function j(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),o.Fb(1,null,[""," "])),o.Ab(0,p.o,[]),(l()(),o.gb(16777216,null,null,1,null,H)),o.ob(4,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,n.component.book.synopsis.length>600)},function(l,n){var u=n.component;l(n,1,0,o.Gb(n,1,0,o.yb(n,2).transform(u.book.synopsis,0,600)))})}function B(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Fb(-1,null,["No synopsis available."]))],null,null)}function E(l){return o.Hb(0,[o.Ab(0,p.d,[o.u]),(l()(),o.pb(1,0,null,null,47,"ion-grid",[["padding",""]],null,null,null,a.jb,a.q)),o.ob(2,49152,null,0,t.A,[o.h,o.k],null,null),(l()(),o.pb(3,0,null,0,23,"ion-row",[],null,null,null,a.xb,a.E)),o.ob(4,49152,null,0,t.ib,[o.h,o.k],null,null),(l()(),o.pb(5,0,null,0,5,"ion-col",[["size","4"]],null,null,null,a.eb,a.l)),o.ob(6,49152,null,0,t.t,[o.h,o.k],{size:[0,"size"]},null),(l()(),o.gb(16777216,null,0,1,null,w)),o.ob(8,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,0,1,null,O)),o.ob(10,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(11,0,null,0,15,"ion-col",[["size","8"]],null,null,null,a.eb,a.l)),o.ob(12,49152,null,0,t.t,[o.h,o.k],{size:[0,"size"]},null),(l()(),o.pb(13,0,null,0,2,"h2",[],null,null,null,null,null)),(l()(),o.Fb(14,null,["",""])),o.Ab(0,p.o,[]),(l()(),o.pb(16,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),o.Fb(17,null,["",""])),(l()(),o.pb(18,0,null,0,8,"div",[],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,_)),o.ob(20,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(21,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,x)),o.ob(23,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(24,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,F)),o.ob(26,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(27,0,null,0,9,"ion-row",[],null,null,null,a.xb,a.E)),o.ob(28,49152,null,0,t.ib,[o.h,o.k],null,null),(l()(),o.pb(29,0,null,0,7,"ion-col",[],null,null,null,a.eb,a.l)),o.ob(30,49152,null,0,t.t,[o.h,o.k],null,null),(l()(),o.pb(31,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),o.Fb(-1,null,["Synopsis"])),(l()(),o.gb(16777216,null,0,1,null,j)),o.ob(34,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,0,1,null,B)),o.ob(36,16384,null,0,p.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(37,0,null,0,11,"ion-row",[["class","bottom-buttons"]],null,null,null,a.xb,a.E)),o.ob(38,49152,null,0,t.ib,[o.h,o.k],null,null),(l()(),o.pb(39,0,null,0,4,"ion-col",[["text-center",""]],null,null,null,a.eb,a.l)),o.ob(40,49152,null,0,t.t,[o.h,o.k],null,null),(l()(),o.pb(41,0,null,0,2,"ion-button",[["color","success"],["fill","solid"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.selectBook()&&o),o},a.V,a.c)),o.ob(42,49152,null,0,t.k,[o.h,o.k],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),o.Fb(-1,0,["Choose this book"])),(l()(),o.pb(44,0,null,0,4,"ion-col",[["text-center",""]],null,null,null,a.eb,a.l)),o.ob(45,49152,null,0,t.t,[o.h,o.k],null,null),(l()(),o.pb(46,0,null,0,2,"ion-button",[["fill","clear"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.dismiss()&&o),o},a.V,a.c)),o.ob(47,49152,null,0,t.k,[o.h,o.k],{fill:[0,"fill"]},null),(l()(),o.Fb(-1,0,["Cancel"]))],function(l,n){var u=n.component;l(n,6,0,"4"),l(n,8,0,null!=u.book.image&&""!=u.book.image),l(n,10,0,null==u.book.image||""==u.book.image),l(n,12,0,"8"),l(n,20,0,null!=u.book.publisher),l(n,23,0,null!=u.book.datePublished),l(n,26,0,null!=u.book.pages),l(n,34,0,null!=u.book.synopsis),l(n,36,0,null==u.book.synopsis),l(n,42,0,"success","solid"),l(n,47,0,"clear")},function(l,n){var u=n.component;l(n,14,0,o.Gb(n,14,0,o.yb(n,15).transform(u.book.title,0,100))),l(n,17,0,u.book.authors)})}function P(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,"app-google-api-book-modal",[],null,null,null,E,C)),o.ob(1,114688,null,0,i,[t.Fb,e.a,y.m],null,null)],function(l,n){l(n,1,0)},null)}var z=o.lb("app-google-api-book-modal",i,P,{book:"book"},{},[]);u.d(n,"SearchViaApiPageModuleNgFactory",function(){return L});var L=o.mb(s,[],function(l){return o.vb([o.wb(512,o.j,o.bb,[[8,[c.a,I,z]],[3,o.j],o.x]),o.wb(4608,p.l,p.k,[o.u,[2,p.s]]),o.wb(4608,f.q,f.q,[]),o.wb(4608,t.c,t.c,[o.z,o.g]),o.wb(4608,t.Fb,t.Fb,[t.c,o.j,o.q,p.c]),o.wb(4608,t.Jb,t.Jb,[t.c,o.j,o.q,p.c]),o.wb(1073742336,p.b,p.b,[]),o.wb(1073742336,f.o,f.o,[]),o.wb(1073742336,f.e,f.e,[]),o.wb(1073742336,t.Db,t.Db,[]),o.wb(1073742336,y.p,y.p,[[2,y.v],[2,y.m]]),o.wb(1073742336,s,s,[]),o.wb(1024,y.k,function(){return[[{path:"",component:r}]]},[])])})}}]);