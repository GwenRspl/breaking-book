(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{qopJ:function(l,n,i){"use strict";i.r(n);var u=i("CcnG"),t=i("N9LN"),e=i("vZ6X"),o=i("GLby"),s=i("zQnm"),r=function(){function l(l,n,i,u){this.wishlistsService=l,this.booksService=n,this.router=i,this.tokenStorage=u,this.userInput="",this._wishlists=[],this._booksWishlistsMap=new Map}return Object.defineProperty(l.prototype,"wishlists",{get:function(){return this._wishlists},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"booksWishlistsMap",{get:function(){return this._booksWishlistsMap},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.retrieveWishlists()},l.prototype.retrieveWishlists=function(){var l=this;this.wishlistsService.getWishlists().subscribe(function(n){console.log(n),l._wishlists=n,l.booksService.getBooks().subscribe(function(n){l.initMap(n)})},function(l){return console.log(l)})},l.prototype.initMap=function(l){var n=this;this._booksWishlistsMap=new Map,this.wishlists.forEach(function(i){if(null!=i.booksIds){var u=[];l.forEach(function(l){i.booksIds.includes(l.id)&&u.push(l)}),n._booksWishlistsMap.set(i.id,u)}})},l.prototype.createNewWishlist=function(){var l=this;if(""!=this.userInput){var n=new t.a(this.userInput,+this.tokenStorage.getUserId());this.wishlistsService.saveWishlist(n).subscribe(function(){return l.retrieveWishlists()},function(l){return console.log(l)})}},l}(),b=function(){return function(){}}(),c=i("pMnS"),a=i("oBZk"),h=i("ZZ/e"),p=i("f68i"),d=i("h9v0"),g=i("ZYCi"),f=i("S5Ai"),w=i("gIcY"),k=i("Ip0R"),m=u.nb({encapsulation:0,styles:[[".create-input[_ngcontent-%COMP%]{--background:white;display:inline-block;margin-right:1em;min-width:50%;max-width:60%}.create-col[_ngcontent-%COMP%]{display:flex;justify-content:center}"]],data:{}});function v(l){return u.Hb(0,[(l()(),u.pb(0,0,null,null,3,"ion-col",[["size-md","6"],["size-xs","12"]],null,null,null,a.eb,a.l)),u.ob(1,49152,null,0,h.t,[u.h,u.k],null,null),(l()(),u.pb(2,0,null,0,1,"app-display-book-list",[["itemMode","wishlist"]],null,[[null,"refreshParent"]],function(l,n,i){var u=!0;return"refreshParent"===n&&(u=!1!==l.component.retrieveWishlists()&&u),u},p.b,p.a)),u.ob(3,114688,null,0,d.a,[g.m,f.a,s.a,h.Fb,h.b],{books:[0,"books"],wishlist:[1,"wishlist"],itemMode:[2,"itemMode"]},{refreshParent:"refreshParent"})],function(l,n){l(n,3,0,n.component.booksWishlistsMap.get(n.context.$implicit.id),n.context.$implicit,"wishlist")},null)}function y(l){return u.Hb(0,[(l()(),u.pb(0,0,null,null,33,"ion-content",[],null,null,null,a.fb,a.m)),u.ob(1,49152,null,0,h.u,[u.h,u.k],null,null),(l()(),u.pb(2,0,null,0,31,"ion-grid",[],null,null,null,a.jb,a.q)),u.ob(3,49152,null,0,h.A,[u.h,u.k],null,null),(l()(),u.pb(4,0,null,0,19,"ion-row",[["justify-content-center",""]],null,null,null,a.xb,a.E)),u.ob(5,49152,null,0,h.ib,[u.h,u.k],null,null),(l()(),u.pb(6,0,null,0,17,"ion-col",[["class","create-col"],["size-lg","8"]],null,null,null,a.eb,a.l)),u.ob(7,49152,null,0,h.t,[u.h,u.k],null,null),(l()(),u.pb(8,0,null,0,8,"ion-item",[["class","create-input"]],null,null,null,a.ob,a.v)),u.ob(9,49152,null,0,h.H,[u.h,u.k],null,null),(l()(),u.pb(10,0,null,0,6,"ion-input",[["placeholder","Wishlist name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,i){var t=!0,e=l.component;return"ionBlur"===n&&(t=!1!==u.yb(l,11)._handleBlurEvent()&&t),"ionChange"===n&&(t=!1!==u.yb(l,11)._handleInputEvent(i.target.value)&&t),"ngModelChange"===n&&(t=!1!==(e.userInput=i)&&t),t},a.nb,a.u)),u.ob(11,16384,null,0,h.Nb,[u.k],null,null),u.Cb(1024,null,w.g,function(l){return[l]},[h.Nb]),u.ob(13,671744,null,0,w.k,[[8,null],[8,null],[8,null],[6,w.g]],{model:[0,"model"]},{update:"ngModelChange"}),u.Cb(2048,null,w.h,null,[w.k]),u.ob(15,16384,null,0,w.i,[[4,w.h]],null,null),u.ob(16,49152,null,0,h.G,[u.h,u.k],{placeholder:[0,"placeholder"]},null),(l()(),u.pb(17,0,null,0,2,"ion-button",[["hidden-until-md",""],["size","medium"]],null,[[null,"click"]],function(l,n,i){var u=!0;return"click"===n&&(u=!1!==l.component.createNewWishlist()&&u),u},a.V,a.c)),u.ob(18,49152,null,0,h.k,[u.h,u.k],{size:[0,"size"]},null),(l()(),u.Fb(-1,0,["Create new wishlist "])),(l()(),u.pb(20,0,null,0,3,"ion-button",[["hidden-from-md",""],["size","medium"]],null,[[null,"click"]],function(l,n,i){var u=!0;return"click"===n&&(u=!1!==l.component.createNewWishlist()&&u),u},a.V,a.c)),u.ob(21,49152,null,0,h.k,[u.h,u.k],{size:[0,"size"]},null),(l()(),u.pb(22,0,null,0,1,"ion-icon",[["name","add"],["slot","icon-only"]],null,null,null,a.lb,a.s)),u.ob(23,49152,null,0,h.C,[u.h,u.k],{name:[0,"name"]},null),(l()(),u.pb(24,0,null,0,9,"ion-row",[["justify-content-center",""]],null,null,null,a.xb,a.E)),u.ob(25,49152,null,0,h.ib,[u.h,u.k],null,null),(l()(),u.pb(26,0,null,0,7,"ion-col",[["size-xl","10"]],null,null,null,a.eb,a.l)),u.ob(27,49152,null,0,h.t,[u.h,u.k],null,null),(l()(),u.pb(28,0,null,0,5,"ion-grid",[],null,null,null,a.jb,a.q)),u.ob(29,49152,null,0,h.A,[u.h,u.k],null,null),(l()(),u.pb(30,0,null,0,3,"ion-row",[],null,null,null,a.xb,a.E)),u.ob(31,49152,null,0,h.ib,[u.h,u.k],null,null),(l()(),u.gb(16777216,null,0,1,null,v)),u.ob(33,278528,null,0,k.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var i=n.component;l(n,13,0,i.userInput),l(n,16,0,"Wishlist name"),l(n,18,0,"medium"),l(n,21,0,"medium"),l(n,23,0,"add"),l(n,33,0,i.wishlists)},function(l,n){l(n,10,0,u.yb(n,15).ngClassUntouched,u.yb(n,15).ngClassTouched,u.yb(n,15).ngClassPristine,u.yb(n,15).ngClassDirty,u.yb(n,15).ngClassValid,u.yb(n,15).ngClassInvalid,u.yb(n,15).ngClassPending)})}function C(l){return u.Hb(0,[(l()(),u.pb(0,0,null,null,1,"app-wishlists",[],null,null,null,y,m)),u.ob(1,114688,null,0,r,[s.a,e.a,g.m,o.a],null,null)],function(l,n){l(n,1,0)},null)}var M=u.lb("app-wishlists",r,C,{},{},[]),W=i("PCNd");i.d(n,"WishlistsPageModuleNgFactory",function(){return I});var I=u.mb(b,[],function(l){return u.vb([u.wb(512,u.j,u.bb,[[8,[c.a,M]],[3,u.j],u.x]),u.wb(4608,k.l,k.k,[u.u,[2,k.s]]),u.wb(4608,w.q,w.q,[]),u.wb(4608,h.c,h.c,[u.z,u.g]),u.wb(4608,h.Fb,h.Fb,[h.c,u.j,u.q,k.c]),u.wb(4608,h.Jb,h.Jb,[h.c,u.j,u.q,k.c]),u.wb(1073742336,k.b,k.b,[]),u.wb(1073742336,w.o,w.o,[]),u.wb(1073742336,w.e,w.e,[]),u.wb(1073742336,h.Db,h.Db,[]),u.wb(1073742336,g.p,g.p,[[2,g.v],[2,g.m]]),u.wb(1073742336,W.a,W.a,[]),u.wb(1073742336,b,b,[]),u.wb(1024,g.k,function(){return[[{path:"",component:r}]]},[])])})}}]);